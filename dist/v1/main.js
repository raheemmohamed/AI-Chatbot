(()=>{var t=0;const n=new Audio("https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/sounds/message-notification.mp3"),e=function(){window.addEventListener("load",(function(){!function(){const t=document.getElementById("chatbot");t&&(t.innerHTML='\n  <div\n      onclick="openChatBotPanel()"\n      class="chatbot-main-btn chatbot-header--logo cursor-pointer animate__animated animate__infinite animate__pulse animate__slower display-none"\n    >\n      <img\n        src="https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/images/chatbot.png"\n        alt="ai-chat-logo"\n        width="100%"\n        height="100%"\n      />\n      <div class="chatbot-online-status"></div>\n      <div id="notification-count"></div>\n    </div>\n\n    <div\n      class="chatbot-container animate__animated animate__slideInUp display-none"\n    >\n      <div class="chatbot-header">\n        <div class="chatbot-row chatbot-align-item-center">\n          <div class="chatbot-row chatbot-align-item-center">\n            <div class="chatbot-header--logo">\n              <img\n                src="https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/images/chatbot.png"\n                alt="ai-chat-logo"\n                width="100%"\n                height="100%"\n              />\n              <div class="chatbot-online-status"></div>\n            </div>\n            <p class="chatbot-header--text">AI ChatBot</p>\n          </div>\n          <div class="cursor-pointer" onclick="hideChatBotPanle()">\n            <svg\n              fill="#ffffff"\n              height="20px"\n              width="20px"\n              version="1.1"\n              id="Layer_1"\n              xmlns="http://www.w3.org/2000/svg"\n              xmlns:xlink="http://www.w3.org/1999/xlink"\n              viewBox="0 0 512 512"\n              xml:space="preserve"\n            >\n              <g>\n                <g>\n                  <polygon\n                    points="512,59.076 452.922,0 256,196.922 59.076,0 0,59.076 196.922,256 0,452.922 59.076,512 256,315.076 452.922,512 \n\t\t\t512,452.922 315.076,256 \t\t"\n                  />\n                </g>\n              </g>\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div id="chatbot-body-panel" class="chatbot-body-panel">\n        <div class="chatbox-message--thread">\n          <div\n            id="chatbox-message-history"\n            class="chatbot-column chatbot-align-item-start"\n          >\n            \x3c!--Chat messages--\x3e\n            <div class="chatbot-margin-bottom">\n              <div class="chatbot-row chatbot-align-item-center">\n                <div\n                  class="chatbot-header--logo-small chatbot-margin-right-small"\n                >\n                  <img\n                    src="https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/images/chatbot.png"\n                    alt="ai-chat-logo"\n                    width="100%"\n                    height="100%"\n                  />\n                </div>\n                <div>Chatbot</div>\n              </div>\n              <div class="chatbot-message-panel">\n                <p class="chatbot-paragraph chatbot-margin-0">\n                  Hello! How can i assist you today ?\n                </p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <div class="chatbot-text-area">\n        <input\n          id="chatbot-input"\n          type="text"\n          placeholder="Type your message here"\n          class="chatbot-input"\n        />\n\n        <div\n          id="chatbot-send-btn"\n          class="chatbot-text-send cursor-pointer"\n          onclick="sendMessage()"\n        >\n          <svg\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 24 24"\n            xml:space="preserve"\n            height="30px"\n            width="30px"\n          >\n            <path\n              fill="#d7d7d7"\n              d="M22,11.7V12h-0.1c-0.1,1-17.7,9.5-18.8,9.1c-1.1-0.4,2.4-6.7,3-7.5C6.8,12.9,17.1,12,17.1,12H17c0,0,0-0.2,0-0.2c0,0,0,0,0,0c0-0.4-10.2-1-10.8-1.7c-0.6-0.7-4-7.1-3-7.5C4.3,2.1,22,10.5,22,11.7z"\n            ></path>\n          </svg>\n        </div>\n      </div>\n      <div class="chatbot-footer">\n        <p class="chatbot-margin-0" style="font-size: 0.7rem">\n          Developed By Raheem, Powered by OpenAI\n        </p>\n      </div>\n    </div>\n    ')}();const t=document.getElementsByClassName("chatbot-main-btn");0!=t.length&&(t[0].classList.remove("display-none"),t[0].classList.remove("animate__infinite"),t[0].classList.remove("animate__slower"),t[0].classList.add("animate__faster"),t[0].classList.add("animate__slideInUp"),setTimeout((()=>{t[0].classList.add("animate__infinite"),t[0].classList.add("animate__slower"),t[0].classList.remove("animate__faster"),t[0].classList.remove("animate__slideInUp")}),2e3),document.getElementById("chatbot-input").addEventListener("keyup",(function(t){const n=t.target.value,e=t.code;n?(a(!0),"Enter"!=e&&13!==t.keyCode||(function(t){const n=document.getElementById("chatbox-message-history"),e=document.createElement("div");e.className="chatbot-margin-bottom chatbot-margin-left-auto";const a=`\n              <div\n                class="chatbot-row chatbot-align-item-center chatbot-justify-content-end"\n              >\n                <div\n                  class="chatbot-header--logo-small chatbot-margin-right-small"\n                >\n                  <img\n                    src="https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/images/chatbot.png"\n                    alt="ai-chat-logo"\n                    width="100%"\n                    height="100%"\n                  />\n                </div>\n                <div>You</div>\n              </div>\n              <div class="chatbot-message-panel">\n                <p class="chatbot-paragraph chatbot-margin-0">\n                  ${t}\n                </p>\n              </div>\n            `;e.innerHTML=a,n.appendChild(e),this.showTypingIndicator(!0),o(),async function(t){console.log("check userQuestion",t);try{const n="https://ai-support-chatbot-server.onrender.com/api/v1/chat/generate-completion",e={queryPrompt:t};console.log("check my payload",e);const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await a.json();console.log("check my response",o),i(o.message),this.showTypingIndicator(!1)}catch(t){console.error(t),i("OOPs! something went wrong"),this.showTypingIndicator(!1)}}(t.toString())}(n),t.target.value=null,a(!1))):a(!1)})))})),document.addEventListener("click",(function(){0==t&&(function(t=!1){const n=document.getElementById("notification-count");n&&(t?n.classList.add("chatbot-notification-count"):n.classList.remove("chatbot-notification-count"))}(!0),new Audio("https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/sounds/message-notification.mp3").play()),t=1}))};function a(t=!1){const n=document.getElementById("chatbot-send-btn");n&&(t?n.getElementsByTagName("path")[0].setAttribute("fill","#343434"):n.getElementsByTagName("path")[0].setAttribute("fill","#d7d7d7"))}function i(t){console.log("assistant message",t);const e=document.getElementById("chatbox-message-history"),a=document.createElement("div"),i=`<div class="chatbot-margin-bottom ">\n              <div class="chatbot-row chatbot-align-item-center ">\n                <div\n                  class="chatbot-header--logo-small chatbot-margin-right-small"\n                >\n                  <img\n                    src="https://cdn.jsdelivr.net/gh/raheemmohamed/AI-Chatbot/dist/v1/images/chatbot.png"\n                    alt="ai-chat-logo"\n                    width="100%"\n                    height="100%"\n                  />\n                </div>\n                <div>Chatbot</div>\n              </div>\n              <div class="chatbot-message-panel">\n                <p class="chatbot-paragraph chatbot-margin-0">\n                  ${t}\n                </p>\n              </div>\n            </div>`;a.innerHTML=i,e.appendChild(a),n.play(),o()}function o(){const t=document.getElementById("chatbot-body-panel");t.scrollTop=t.scrollHeight,console.log("message body",t.scrollTop)}!function(){const t=document.createElement("link");t.rel="stylesheet",t.href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css",document.head.appendChild(t),e()}()})();